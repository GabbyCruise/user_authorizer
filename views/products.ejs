<div class="main_container" style="margin: 1rem 4rem;">
  <h2>Product page</h2>
  <a href="/dashboard">< < go back</a>
  <div class="messages" style="text-align: center;">
  <%- include('./partials/messages.ejs') %>
  </div>

  <label> Welcome, <%- username %></label><br>


  <div class="" style="margin: 1rem 3rem;">

 <% if (typeof products == 'object' && products.length > 0){ %>     
   <table class="table table-striped table-hover">
     <thead>
       <tr>
         <th scope="col">Product Name:</th>
         <th scope="col">Type: </th>
         <th scope="col">Quantity:</th>
         <th scope="col">Price:</th>
       </tr>
     </thead>
     <tbody>

       <% products.forEach(function (product) { %> 
         
         <tr>
           <td><%- product.name %></td>
           <td><%- product.type %></td>
           <td><%- product.quantity %></td>
           <td><%- product.price %></td>           
           <td>
             <div class="dropdown show">
               <a class=" dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-expanded="false">
                 
                 <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16">
                   <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>
                 </svg>
               </a>

               <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                <a class="dropdown-item" href="update/<%- product.gpid %>">Update</a>

                <a class="dropdown-item" href="suspend/<%- product.gpid %>" style="color: rgba(109, 74, 9, 0.507);">Suspend</a>

                <a class="dropdown-item" href="products/delete/<%- product.gpid %>" style="color: red;">Delete</a>
               </div>
             </div>
           </td>
         </tr> 

       <% }); %> 
     </tbody>
   </table>
 <% } else { %> 
   <h4>No products are available for now</h4>
   <span>Products will be listetd here when they are created.</span>
 <% } %>

  </div>


  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" style="">
    Add Products
  </button>

  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">
          Add Product
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form action="products" method="POST" enctype="">
          <div class="form__fields">
            <input type="text" name="name" class="form-control" placeholder="Enter product name">
            <input type="text" name="type" class="form-control" placeholder="Enter product type">
            <input type="number" name="quantity" class="form-control" placeholder="Enter product quantity">
            <input type="number" name="price" class="form-control" placeholder="Enter product price">
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">cancel</button>
            <button type="submit" class="btn btn-primary">Add</button>
          </div>
        </form>
      </div>
      
    </div>
  </div>
  </div>

</div>